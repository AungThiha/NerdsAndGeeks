angular.module("sampleApp",["ngRoute","appRoutes","MainCtrl","NerdCtrl","PanelCtrl","NerdService","NerdItem","EditNerdItem"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home.html",controller:"MainController"}).when("/nerds",{templateUrl:"views/nerd.html",controller:"NerdController",controllerAs:"nerdCtrl"}),b.html5Mode(!0)}]),angular.module("MainCtrl",[]).controller("MainController",["$scope",function(a){a.tagline="To the moon and back!"}]),angular.module("NerdCtrl",[]).controller("NerdController",["Nerd","$scope",function(a,b){b.tagline="Nothing beats a pocket protector!",a.get().success(function(a){a.length>0&&(a[a.length-1].editable=!1),b.nerds=a}),b.nerd={},b.addNerd=function(c){c&&a.create(c).success(function(a){b.nerds.unshift(a),$(".slideToggle").slideUp("fast"),b.nerd={},b.nerdForm.$setPristine()})},b.slideDown=function(){$(".slideToggle").slideDown("fast")},b.cancelForm=function(a){$(".slideToggle").slideUp("fast"),a.nerd={},b.nerdForm.$setPristine()}}]),angular.module("PanelCtrl",[]).controller("PanelController",function(){this.tab=1,this.selectTab=function(a){this.tab=a},this.isSelected=function(a){return this.tab===a}}),angular.module("EditNerdItem",[]).directive("editNerdItem",["Nerd","$compile",function(a,b){return{restrict:"E",templateUrl:"views/EditNerdItem.html",link:function(c,d,e){function f(){var a=b("<nerd-item></nerd-item>")(c);d.html(a)}c.cancelForm=function(){delete c.nerd.editted,f()},c.editNerd=function(){a.update(c.nerd._id,c.nerd.editted).success(function(a){c.nerd=a,f()})}}}}]),angular.module("NerdItem",["ui.bootstrap"]).directive("nerdItem",["Nerd","$compile","$uibModal",function(a,b,c){return{restrict:"E",templateUrl:"views/NerdItem.html",link:function(d,e,f){d.nerd.hasOwnProperty("editable")&&d.nerd.editable?(d.editMode=function(){d.nerd.editted={name:d.nerd.name,age:d.nerd.age,address:d.nerd.address,bio:d.nerd.bio};var a=b("<edit-nerd-item></edit-nerd-item>")(d);e.html(a)},d["delete"]=function(b){var e=c.open({templateUrl:"views/deleteConfirmationModal.html",size:"sm",controller:["$scope","$uibModalInstance","nerd",function(a,b,c){a.ok=function(){b.close(c)},a.cancel=function(){b.dismiss("cancel")}}],resolve:{nerd:function(){return b}}});e.result.then(function(b){var c=d.nerds.indexOf(b);a["delete"](b._id).success(function(){d.nerds.splice(c,1)})},function(){})}):e.children(".pull-right").remove()}}}]),angular.module("NerdService",[]).factory("Nerd",["$http",function(a){return{get:function(){return a.get("/api/nerds")},create:function(b){return a.post("/api/nerds",b)},update:function(b,c){return a.put("/api/nerds/"+b,c)},"delete":function(b){return a["delete"]("/api/nerds/"+b)}}}]),angular.module("sampleApp").run(["$templateCache",function(a){"use strict";a.put("public/views/EditNerdItem.html",'<div class="row form-container">\n	<h4 style="color: #999;">Edit {{nerd.name}}</h4>\n	\n	<form name="EditNerdForm" ng-submit="EditNerdForm.$valid && editNerd()" novalidate>\n	\n		<fieldset class="form-group">\n			<input id="nerd-name" type="text" class="form-control" placeholder="Name" title="Name" ng-model="nerd.editted.name" required />\n		</fieldset>\n		<fieldset class="form-group">\n		<input type="number" class="form-control" placeholder="Age" title="Age" ng-model="nerd.editted.age" required />\n		</fieldset>\n		<fieldset class="form-group">\n			<textarea class="form-control" placeholder="Address" title="Address" ng-model="nerd.editted.address"></textarea>\n		</fieldset>\n\n		<fieldset class="form-group">\n			<textarea class="form-control" placeholder="Biography" title="Biography" ng-model="nerd.editted.bio"></textarea>\n		</fieldset>\n		<fieldset class="form-group pull-right" style="padding-right: 12px">\n			<input class="btn btn-primary" value="Save" type="submit" style="margin-right: 12px" />\n			<a href="#" ng-click="cancelForm()">Cancel</a>\n		</fieldset>\n	\n		<!-- <div>reviewForm is {{reviewForm.$valid}}</div> -->\n	</form>\n	\n</div>'),a.put("public/views/NerdItem.html",'<h1 style="padding-bottom: 0; margin-bottom: 0;">{{nerd.name}}</h1>\n<div class="pull-right">\n	<a href="#" ng-click="editMode()">Edit</a>\n	<a href="#" ng-click="delete(nerd)">Delete</a>\n</div>\n<small style="padding-top: 0; margin-top: 0"><strong>created at: </strong>{{ nerd.createdAt | date:\' HH:mma MMM d, yyyy\'}}</small>\n<p><strong>age: </strong>{{nerd.age}}</p>\n<section ng-controller="PanelController as panelCtrl">\n<ul class="nav nav-pills">\n	<li ng-class="{active:panelCtrl.isSelected(1)}"><a href ng-click="panelCtrl.selectTab(1)">About</a></li>\n	<li ng-class="{active:panelCtrl.isSelected(2)}"><a href ng-click="panelCtrl.selectTab(2)">Address</a></li>\n</ul>\n	<p ng-show="panelCtrl.isSelected(1)">{{nerd.bio}}</p>\n<p ng-show="panelCtrl.isSelected(2)">{{nerd.address}}</p>\n\n</section>'),a.put("public/views/deleteConfirmationModal.html",'<!-- Modal -->\n<div class="modal-header">\n  <button ng-click="cancel()" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n  <h4 class="modal-title" id="myModalLabel">Delete Nerd</h4>\n</div>\n<div class="modal-body">\n  Are you sure you want to delete {{ name }}?\n</div>\n<div class="modal-footer">\n  <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n  <button type="button" class="btn btn-primary" ng-click="ok()">Delete Nerd</button>\n</div>\n'),a.put("public/views/geek.html",""),a.put("public/views/home.html",'<!-- public/views/home.html -->\n\n<div class="jumbotron text-center">\n    <h1>Home Page 4 Life</h1>\n\n    <p>{{ tagline }}</p>\n</div>'),a.put("public/views/nerd.html",'<!-- public/views/nerd.html -->\n\n<div class="jumbotron text-center">\n    <h1>Nerds and Proud</h1>\n\n    <p>{{ tagline }}</p>\n</div>\n\n<div class="container list">\n\n<div class="row new-container form-container">\n	<div class="col-md-3">\n		<h4 style="color: #999;">Add new nerd</h4>\n	</div>\n	<div class="col-md-9">\n		<form name="nerdForm" ng-submit="nerdForm.$valid && addNerd(nerd)" novalidate>\n	\n		<fieldset class="form-group">\n			<input id="nerd-name" type="text" class="form-control" placeholder="Name" title="Name" ng-model="nerd.name" ng-click="slideDown()" required />\n		</fieldset>\n\n		<div class="slideToggle" style="display: none;">\n			<fieldset class="form-group">\n			<input type="number" class="form-control" placeholder="Age" title="Age" ng-model="nerd.age" required />\n			</fieldset>\n			<fieldset class="form-group">\n				<textarea class="form-control" placeholder="Address" title="Address" ng-model="nerd.address"></textarea>\n			</fieldset>\n\n			<fieldset class="form-group">\n				<textarea class="form-control" placeholder="Biography" title="Biography" ng-model="nerd.bio"></textarea>\n			</fieldset>\n			<fieldset class="form-group pull-right" style="padding-right: 12px">\n				<input class="btn btn-primary" value="Submit" type="submit" style="margin-right: 12px" />\n				<a href="#" ng-model="nerd" ng-click="cancelForm(this)">Cancel</a>\n			</fieldset>\n		</div>\n		<!-- <div>reviewForm is {{reviewForm.$valid}}</div> -->\n	</form>\n	</div>\n</div>\n\n<ul class="list-group">\n  <li class="list-group-item" ng-repeat="nerd in nerds">\n  	<nerd-item></nerd-item>\n  </li>\n</ul>\n	\n</div>\n\n')}]);