angular.module("sampleApp",["ngRoute","appRoutes","MainCtrl","NerdCtrl","PanelCtrl","NerdService","NerdItem","EditNerdItem","ngFileUpload"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home.html",controller:"MainController"}).when("/about",{templateUrl:"views/about.html"}).when("/geeks",{templateUrl:"/views/geek.html"}).when("/nerds",{templateUrl:"views/nerd.html",controller:"NerdController",controllerAs:"nerdCtrl"}).otherwise({redirectTo:"/about"}),b.html5Mode(!0)}]),angular.module("MainCtrl",[]).controller("MainController",["$scope",function(a){a.tagline="To the moon and back!"}]),angular.module("NerdCtrl",[]).controller("NerdController",["Nerd","$scope",function(a,b){b.tagline="Nothing beats a pocket protector!",a.get().success(function(a){a.length>0&&(a[a.length-1].editable=!1),b.nerds=a}),b.nerd={},b.addNerd=function(c){c&&a.create(c).success(function(a){b.nerds.unshift(a),$(".slideToggle").slideUp("fast"),b.nerd={},b.nerdForm.$setPristine()})},b.slideDown=function(){$(".slideToggle").slideDown("fast")},b.cancelForm=function(a){$(".slideToggle").slideUp("fast"),a.nerd={},b.nerdForm.$setPristine()}}]),angular.module("PanelCtrl",[]).controller("PanelController",function(){this.tab=1,this.selectTab=function(a){this.tab=a},this.isSelected=function(a){return this.tab===a}}),angular.module("EditNerdItem",[]).directive("editNerdItem",["Nerd","$compile","Upload",function(a,b,c){return{restrict:"E",templateUrl:"views/EditNerdItem.html",link:function(d,e,f){function g(){var a=b("<nerd-item></nerd-item>")(d);e.html(a)}function h(a){i.append('<li class="progress" name="'+a.name+'"><div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><span class="progress-type">'+a.name+"</span></div></li>");var b=i.find(".progress[name='"+a.name+"'] .progress-bar");c.upload({url:"api/nerds/"+d.nerd._id+"/photos",data:{photos:a}}).then(function(a){d.nerd.photos.unshift(a.data[0])},function(a){b.css("background-color","#d9534f")},function(a){var c=parseInt(100*a.loaded/a.total);c>=100?b.parent().remove():b.css("width",c+"%")})}d.cancelForm=function(){delete d.nerd.editted,g()},d.editNerd=function(){a.update(d.nerd._id,d.nerd.editted).success(function(a){d.nerd=a,g()})};var i=e.find(".progress-list");d.uploadPhotos=function(a){if(a&&a.length)for(var b=0;b<a.length;b++)h(a[b]);else console.log("no photos")}}}}]),angular.module("NerdItem",["ui.bootstrap"]).directive("nerdItem",["Nerd","$compile","$uibModal",function(a,b,c){return{restrict:"E",templateUrl:"views/NerdItem.html",link:function(d,e,f){d.editMode=function(){d.nerd.editted={name:d.nerd.name,age:d.nerd.age,address:d.nerd.address,bio:d.nerd.bio,photos:d.nerd.photos};var a=b("<edit-nerd-item></edit-nerd-item>")(d);e.html(a)},d["delete"]=function(b){var e=c.open({templateUrl:"views/deleteConfirmationModal.html",size:"sm",controller:["$scope","$uibModalInstance","nerd",function(a,b,c){a.ok=function(){b.close(c)},a.cancel=function(){b.dismiss("cancel")}}],resolve:{nerd:function(){return b}}});e.result.then(function(b){var c=d.nerds.indexOf(b);a["delete"](b._id).success(function(){d.nerds.splice(c,1)})},function(){})}}}}]),angular.module("NerdService",[]).factory("Nerd",["$http",function(a){return{get:function(){return a.get("/api/nerds")},create:function(b){return a.post("/api/nerds",b)},update:function(b,c){return a.put("/api/nerds/"+b,c)},"delete":function(b){return a["delete"]("/api/nerds/"+b)}}}]),angular.module("sampleApp").run(["$templateCache",function(a){"use strict";a.put("public/views/EditNerdItem.html",'<div class="row form-container">\n	<h4 style="color: #999;">Edit {{nerd.name}}</h4>\n\n    <ul class="photo">\n        <li class="photo add" ngf-select="uploadPhotos($files)" multiple="multiple"><p><i class="fa fa-plus"></i></p></li>\n        <li ng-repeat="photo in nerd.editted.photos" class="photo">\n            <img src="{{photo}}" alt="">\n        </li>\n    </ul>\n\n    <ul class="progress-list">\n    </ul>\n	\n	<form name="EditNerdForm" ng-submit="EditNerdForm.$valid && editNerd()" novalidate>\n\n	\n		<fieldset class="form-group">\n			<input id="nerd-name" type="text" class="form-control" placeholder="Name" title="Name" ng-model="nerd.editted.name" required />\n		</fieldset>\n		<fieldset class="form-group">\n		<input type="number" class="form-control" placeholder="Age" title="Age" ng-model="nerd.editted.age" required />\n		</fieldset>\n		<fieldset class="form-group">\n			<textarea class="form-control" placeholder="About" title="About" ng-model="nerd.editted.bio"></textarea>\n		</fieldset>\n		<fieldset class="form-group">\n			<textarea class="form-control" placeholder="Address" title="Address" ng-model="nerd.editted.address"></textarea>\n		</fieldset>\n\n		<fieldset class="form-group pull-right" style="padding-right: 12px">\n			<input class="btn btn-primary" value="Save" type="submit" style="margin-right: 12px" />\n			<a href="#" ng-click="cancelForm()">Cancel</a>\n		</fieldset>\n	\n		<!-- <div>reviewForm is {{reviewForm.$valid}}</div> -->\n	</form>\n	\n</div>'),a.put("public/views/NerdItem.html",'<h1 style="padding-bottom: 0; margin-bottom: 0;">{{nerd.name}}</h1>\n<div class="pull-right">\n	<a href="#" ng-click="editMode()">Edit</a>\n	<a href="#" ng-click="delete(nerd)">Delete</a>\n</div>\n<small style="padding-top: 0; margin-top: 0"><strong>created at: </strong>{{ nerd.createdAt | date:\' HH:mma MMM d, yyyy\'}}</small>\n\n<ul class="photo" ng-show="nerd.photos.length">\n	<li ng-repeat="photo in nerd.photos" class="photo">\n		<img src="{{photo}}" alt="">\n	</li>\n</ul>\n\n<p><strong>age: </strong>{{nerd.age}}</p>\n<section ng-controller="PanelController as panelCtrl">\n<ul class="nav nav-pills">\n	<li ng-class="{active:panelCtrl.isSelected(1)}"><a href ng-click="panelCtrl.selectTab(1)">About</a></li>\n	<li ng-class="{active:panelCtrl.isSelected(2)}"><a href ng-click="panelCtrl.selectTab(2)">Address</a></li>\n</ul>\n	<p ng-show="panelCtrl.isSelected(1)">{{nerd.bio}}</p>\n<p ng-show="panelCtrl.isSelected(2)">{{nerd.address}}</p>\n\n</section>'),a.put("public/views/about.html",'\n<div class="jumbotron text-center">\n    <h1>Aung Thiha</h1>\n\n    <p>A brief description about me</p>\n</div>\n\n<h3>Work Experience</h3>\n<p>I\'ve been freelancing as an android developer for one and a half year before I worked at <a href="https://www.unikupid.com/">Unikupid</a> for 6 months.</p>\n\n<h3>Education</h3>\n<p> I\'ve got a Full Stack Web Developer Nanodegree from Udacity, Diploma in Computer Studies from NCC education and a few other certificates</p>\n\n<h3>Skills</h3>\n<p>Skills I have used for work are Java, C#, Windows Batch, Shell Script, C++, Git, Android Studio, Eclipse, NetBeans, Visual Studio, Sqlite3 and Microsoft Access.</p>\n<p>Skills I have learned are NodeJS, AngularJS, ExpressJS, GruntJS, Bower, Python, HTML5, CSS, JavaScript, Twitter Bootstrap, jQuery, Flask (Python), Heroku, Amazon Web Services, Google App Engine, PostgreSQL and MongoDB.</p>\n\n<h3>Current work</h3>\n<p>Currently, I\'m leading a two member team and we partner with some freelance web developers for some projects.</p>\n\n\n<h3><p><a href="https://www.linkedin.com/in/aung-thiha-a4990b106">Linkedin Profile</a></p></h3>\n\n\n\n\n'),a.put("public/views/deleteConfirmationModal.html",'<!-- Modal -->\n<div class="modal-header">\n  <button ng-click="cancel()" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n  <h4 class="modal-title" id="myModalLabel">Delete Nerd</h4>\n</div>\n<div class="modal-body">\n  Are you sure you want to delete {{ name }}?\n</div>\n<div class="modal-footer">\n  <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>\n  <button type="button" class="btn btn-primary" ng-click="ok()">Delete Nerd</button>\n</div>\n'),a.put("public/views/geek.html",'<!-- public/views/home.html -->\n\n<div class="jumbotron text-center">\n    <h1>Geek here to rescue you</h1>\n\n    <p>Oh yeah, I\'m a geek</p>\n</div>'),a.put("public/views/home.html",'<!-- public/views/home.html -->\n\n<div class="jumbotron text-center">\n    <h1>Home Page 4 Life</h1>\n\n    <p>{{ tagline }}</p>\n</div>'),a.put("public/views/nerd.html",'<!-- public/views/nerd.html -->\n\n<div class="jumbotron text-center">\n    <h1>Nerds and Proud</h1>\n\n    <p>{{ tagline }}</p>\n</div>\n\n<div class="container list">\n\n<div class="row new-container form-container">\n	<div class="col-md-3">\n		<h4 style="color: #999;">Add new nerd</h4>\n	</div>\n	<div class="col-md-9">\n		<form name="nerdForm" ng-submit="nerdForm.$valid && addNerd(nerd)" novalidate>\n	\n		<fieldset class="form-group">\n			<input id="nerd-name" type="text" class="form-control" placeholder="Name" title="Name" ng-model="nerd.name" ng-click="slideDown()" required />\n		</fieldset>\n\n		<div class="slideToggle" style="display: none;">\n			<fieldset class="form-group">\n			<input type="number" class="form-control" placeholder="Age" title="Age" ng-model="nerd.age" required />\n			</fieldset>\n\n			<fieldset class="form-group">\n				<textarea class="form-control" placeholder="About" title="About" ng-model="nerd.bio"></textarea>\n			</fieldset>\n\n			<fieldset class="form-group">\n				<textarea class="form-control" placeholder="Address" title="Address" ng-model="nerd.address"></textarea>\n			</fieldset>\n\n\n			<fieldset class="form-group pull-right" style="padding-right: 12px">\n				<input class="btn btn-primary" value="Submit" type="submit" style="margin-right: 12px" />\n				<a href="#" ng-model="nerd" ng-click="cancelForm(this)">Cancel</a>\n			</fieldset>\n		</div>\n		<!-- <div>reviewForm is {{reviewForm.$valid}}</div> -->\n	</form>\n	</div>\n</div>\n\n<ul class="list-group">\n  <li class="list-group-item" ng-repeat="nerd in nerds">\n  	<nerd-item></nerd-item>\n  </li>\n</ul>\n	\n</div>\n\n')}]);